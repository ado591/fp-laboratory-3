# Лабораторная работа №3 
## Образцова Анжела Дмитриевна 409260

## Цель работы
В рамках лабораторной работы вам предлагается повторно реализовать лабораторную работу по предмету "Вычислительная математика" посвящённую интерполяции со следующими дополнениями:

обязательно должна быть реализована линейная интерполяция;
настройки алгоритма интерполяции и выводимых данных должны задаваться через аргументы командной строки:

какие алгоритмы использовать (в том числе два сразу);
частота дискретизации результирующих данных;
и т.п.;


входные данные должны задаваться в текстовом формате на подобии ".csv" (к примеру x;y\n или x\ty\n) и подаваться на стандартный ввод, входные данные должны быть отсортированы по возрастанию x;
выходные данные должны подаваться на стандартный вывод; программа должна работать в потоковом режиме

## Описание реализации

Модуль ```Interpolation.Reader``` отвечает за чтение входных данных. Он получает строки, парсит их в числовые точки вида {x, y} и передает их в вычислительный процесс через сообщение ```{:data_point, {x, y}}```. После завершения входного потока отправляется сообщение :eof.

Модуль ```Interpolation.Calculate``` реализует основной вычислительный процесс. Он работает как stateful-процесс с бесконечным receive-циклом. Состояние хранится в map и включает:

- список всех полученных точек
- текущее окно точек
- список выбранных алгоритмов
- шаг интерполяции
- размер окна
- флаг первой обработки окна
- данные о последнем обработанном окне
- ссылку на процесс вывода

Модуль ```Interpolation.Algorithms``` содержит чистые функции интерполяции. В рамках ЛР была реализована интерполция отрезками и методом Ньютона 

Модуль ```Interpolation.Printer``` отвечает за прием сообщений вида {:result, algorithm, x, y} и вывод результатов.


## Запуск
```bash
mix deps.get
mix escript.build          

./lab3 --linear --step 0.3 < input.txt
./lab3 --linear --newton -n 4 --step 0.5 < input.txt
```

## Примеры работы
1. Ньютон
```bash
./lab3 --newton --step 0.5 --window 4

0 0
1 1
2 4
3 9
4 16
7 49
8 64
```
Выход:
```bash
newton: 0.0 0.0
newton: 0.5 0.5
newton: 1.0 1.0
newton: 1.5 2.25
newton: 2.0 4.0
newton: 2.5 6.25
newton: 3.0 9.0
newton: 3.5 12.25
newton: 4.0 16.0
newton: 4.5 20.25
newton: 5.0 25.0
newton: 5.5 30.25
newton: 6.0 36.0
newton: 6.5 42.25
newton: 7.0 49.0
newton: 7.5 56.25
newton: 8.0 64.0
```
2. Комбинация двух алгоритмов:
```bash
echo  -e "0 0\n1 1\n2 4\n3 9" | ./lab3 --linear --newton --step 0.5
```
Выход:
```bash
linear: 0.0 0.0
newton: 0.0 0.0
linear: 0.5 0.5
newton: 0.5 0.5
linear: 1.0 1.0
newton: 1.0 1.0
linear: 1.5 2.5
newton: 1.5 2.25
linear: 2.0 4.0
newton: 2.0 4.0
linear: 2.5 6.5
newton: 2.5 6.25
linear: 3.0 9.0
newton: 3.0 9.0
```
В этом примере разница алгоритмов видна например при ```x=2.5```
